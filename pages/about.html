<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Story - Stefano Ortolini</title>
    <link href="https://fonts.googleapis.com/css2?family=Courier+Prime:wght@400;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --color-dark-teal: #65558F;
            --color-burgundy: #21005D;
            --color-salmon-pink: #7D5260;
            --color-mustard-yellow: #FFD8E4;
            --color-text-dark: #1D192B;
            --color-text-light: #F7F2FA;
            --film-bg: #020202;
            --film-perforation: #1a1a1a;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: var(--film-bg);
            overflow-x: hidden;
            overflow-y: hidden;
            font-family: 'Courier Prime', monospace;
            cursor: grab;
            user-select: none; /* Prevent text selection during drag */
        }

        body:active {
            cursor: grabbing;
        }

        .film-container {
            position: relative;
            height: 100vh;
            display: flex;
            align-items: center;
        }

        .film-strip {
            position: relative;
            height: 70vh;
            display: flex;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            will-change: transform;
        }

        .film-strip.dragging {
            transition: none; /* Remove transition during drag */
        }

        .film-perforations {
            position: absolute;
            top: -5%;
            bottom: -5%;
            width: 100%;
            pointer-events: none;
            z-index: 10;
        }

        .perforation-row {
            position: absolute;
            width: 100%;
            height: 40px;
            display: flex;
            gap: 20px;
        }

        .perforation-row.top {
            top: 0;
        }

        .perforation-row.bottom {
            bottom: 0;
        }

        .perforation {
            width: 30px;
            height: 20px;
            background: var(--film-perforation);
            border-radius: 4px;
            flex-shrink: 0;
        }

        .film-frame {
            position: relative;
            min-width: 100vw;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .scene-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: sepia(0.3) contrast(1.1) brightness(0.9);
            opacity: 0.7;
        }

        .scene-content {
            position: relative;
            z-index: 5;
            text-align: center;
            max-width: 600px;
            padding: 40px;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            border: 2px solid var(--color-mustard-yellow);
            border-radius: 15px;
            animation: contentFlicker 30s infinite;
        }

        @keyframes contentFlicker {
            0%, 100% { filter: brightness(1); }
            92% { filter: brightness(1); }
            93% { filter: brightness(0.9); }
            94% { filter: brightness(1.1); }
            95% { filter: brightness(0.95); }
        }

        .scene-number {
            position: absolute;
            top: 20px;
            left: 20px;
            color: var(--color-mustard-yellow);
            font-size: 14px;
            font-weight: bold;
            opacity: 0.7;
            z-index: 6;
        }

        .scene-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.5em;
            color: var(--color-mustard-yellow);
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
        }

        .scene-text {
            color: var(--color-text-light);
            font-size: 1.1em;
            line-height: 1.8;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
        }

        .navigation {
            position: fixed;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 20;
            background: rgba(0, 0, 0, 0.8);
            padding: 10px 20px;
            border-radius: 25px;
            backdrop-filter: blur(10px);
        }

        .nav-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--color-text-light);
            opacity: 0.3;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-dot.active {
            opacity: 1;
            background: var(--color-mustard-yellow);
            transform: scale(1.3);
        }

        .scroll-hint {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            color: var(--color-text-light);
            font-size: 14px;
            opacity: 0.7;
            animation: pulse 2s infinite;
            z-index: 20;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 0.3; }
        }

        .back-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--color-mustard-yellow);
            color: var(--color-dark-teal);
            padding: 12px 24px;
            border-radius: 15px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
            z-index: 20;
        }

        .back-btn:hover {
            background: var(--color-salmon-pink);
            color: var(--color-text-light);
            transform: translateY(-2px);
        }

        @media (max-width: 768px) {
            .scene-title {
                font-size: 1.8em;
            }
            
            .scene-content {
                padding: 20px;
                max-width: 90%;
            }
            
            .scroll-hint {
                bottom: 80px;
            }
        }

        /* Film effects overlay */
        .film-effects {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 15;
        }

        /* Film grain effect */
        .film-grain {
            position: absolute;
            top: -100%;
            left: -100%;
            width: 300%;
            height: 300%;
            background-image: 
                repeating-linear-gradient(
                    45deg,
                    transparent,
                    transparent 1px,
                    rgba(255, 255, 255, 0.03) 1px,
                    rgba(255, 255, 255, 0.03) 2px
                ),
                repeating-linear-gradient(
                    -45deg,
                    transparent,
                    transparent 1px,
                    rgba(0, 0, 0, 0.05) 1px,
                    rgba(0, 0, 0, 0.05) 2px
                );
            animation: grain 0.5s steps(1) infinite;
            opacity: 0.4;
        }

        @keyframes grain {
            0%, 100% { transform: translate(0, 0); }
            10% { transform: translate(-1%, -1%); }
            20% { transform: translate(1%, 1%); }
            30% { transform: translate(-2%, 1%); }
            40% { transform: translate(2%, -1%); }
            50% { transform: translate(-1%, 2%); }
            60% { transform: translate(1%, -2%); }
            70% { transform: translate(-1%, 1%); }
            80% { transform: translate(2%, 1%); }
            90% { transform: translate(1%, -1%); }
        }

        /* Film scratches */
        .film-scratches {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .scratch {
            position: absolute;
            width: 1px;
            height: 100%;
            background: rgba(255, 255, 255, 0.2);
            animation: scratch 3s linear infinite;
        }

        .scratch:nth-child(1) {
            left: 10%;
            animation-delay: 0s;
            animation-duration: 2.5s;
        }

        .scratch:nth-child(2) {
            left: 25%;
            animation-delay: 0.5s;
            animation-duration: 3s;
            width: 2px;
            opacity: 0.3;
        }

        .scratch:nth-child(3) {
            left: 70%;
            animation-delay: 1s;
            animation-duration: 2s;
        }

        .scratch:nth-child(4) {
            left: 90%;
            animation-delay: 1.5s;
            animation-duration: 3.5s;
            opacity: 0.4;
        }

        @keyframes scratch {
            0% {
                transform: translateY(-100%);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(100%);
                opacity: 0;
            }
        }

        /* Film dust particles */
        .film-dust {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .dust {
            position: absolute;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            animation: dust 10s linear infinite;
        }

        .dust:nth-child(1) {
            width: 3px;
            height: 3px;
            left: 20%;
            animation-delay: 0s;
        }

        .dust:nth-child(2) {
            width: 2px;
            height: 2px;
            left: 50%;
            animation-delay: 2s;
        }

        .dust:nth-child(3) {
            width: 4px;
            height: 4px;
            left: 80%;
            animation-delay: 4s;
        }

        @keyframes dust {
            0% {
                transform: translateY(-10vh) translateX(0);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(110vh) translateX(20px);
                opacity: 0;
            }
        }

        /* Light flicker effect */
        .film-flicker {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0);
            animation: flicker 0.5s infinite;
            mix-blend-mode: screen;
        }

        @keyframes flicker {
            0% { opacity: 0.01; }
            50% { opacity: 0.02; }
            100% { opacity: 0; }
        }

        /* Vignette effect */
        .film-vignette {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(
                ellipse at center,
                transparent 0%,
                rgba(0, 0, 0, 0.1) 40%,
                rgba(0, 0, 0, 0.4) 100%
            );
        }

        /* Frame burn effect */
        .film-burn {
            position: absolute;
            top: 0;
            right: -5%;
            width: 10%;
            height: 100%;
            background: linear-gradient(
                to left,
                transparent,
                rgba(255, 100, 0, 0.1),
                transparent
            );
            animation: burn 20s infinite;
            opacity: 0;
        }

        @keyframes burn {
            0%, 100% { opacity: 0; }
            50% { opacity: 0.3; }
        }
    </style>
</head>
<body>
    <!-- Film effects overlay -->
    <div class="film-effects">
        <div class="film-grain"></div>
        <div class="film-scratches">
            <div class="scratch"></div>
            <div class="scratch"></div>
            <div class="scratch"></div>
            <div class="scratch"></div>
        </div>
        <div class="film-dust">
            <div class="dust"></div>
            <div class="dust"></div>
            <div class="dust"></div>
        </div>
        <div class="film-flicker"></div>
        <div class="film-vignette"></div>
        <div class="film-burn"></div>
    </div>

    <div class="film-container">
        <div class="film-perforations">
            <div class="perforation-row top"></div>
            <div class="perforation-row bottom"></div>
        </div>
        
        <div class="film-strip" id="filmStrip">
            <!-- Scene 1: Introduction -->
            <div class="film-frame" data-scene="0">
                <div class="scene-number">SCENE I</div>
                <img class="scene-background" src="https://images.unsplash.com/photo-1500382017468-9049fed747ef?w=1920" alt="Rice fields">
                <div class="scene-content">
                    <h2 class="scene-title">Le Radici</h2>
                    <p class="scene-text">
                        Sono nata in campagna, in una bellissima risaia. Ho imparato ad arrangiarmi, 
                        a sporcarmi le mani e guardando il sudore e la fatica che hanno sempre velato 
                        il viso di mio padre, ho imparato <strong>il senso del duro lavoro</strong>.
                    </p>
                </div>
            </div>

            <!-- Scene 2: Learning -->
            <div class="film-frame" data-scene="1">
                <div class="scene-number">SCENE II</div>
                <img class="scene-background" src="https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=1920" alt="Books and learning">
                <div class="scene-content">
                    <h2 class="scene-title">L'Arte dell'Imparare</h2>
                    <p class="scene-text">
                        Sono molto legata alle tradizioni familiari, all'insegnamento e 
                        <strong>al condividere la conoscenza</strong>. Mia mamma ha dato un senso 
                        all'arte dell'imparare. Ascolto molto e provando, un fallimento dopo un altro, 
                        trovo sempre la forza di rialzarmi.
                    </p>
                </div>
            </div>

            <!-- Scene 3: Passion -->
            <div class="film-frame" data-scene="2">
                <div class="scene-number">SCENE III</div>
                <img class="scene-background" src="https://images.unsplash.com/photo-1618005198919-d3d4b5a92ead?w=1920" alt="Art and design">
                <div class="scene-content">
                    <h2 class="scene-title">La Bellezza nel Fare</h2>
                    <p class="scene-text">
                        Sono appassionata di arte, design delle architetture e degli oggetti. 
                        Mi impegno a mantenere ordine e non accetto mai di fare qualcosa male e in fretta. 
                        Ogni compito che affronto cerco di renderlo "<strong>bello</strong>", 
                        anche quando potrebbe servire solo per pochi minuti.
                    </p>
                </div>
            </div>

            <!-- Scene 4: Resilience -->
            <div class="film-frame" data-scene="3">
                <div class="scene-number">SCENE IV</div>
                <img class="scene-background" src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=1920" alt="Light through darkness">
                <div class="scene-content">
                    <h2 class="scene-title">La Forza del Sorriso</h2>
                    <p class="scene-text">
                        Ho pianto molte persone care, la sfortuna è sempre dietro l'angolo, 
                        ma non per questo non mi metto in gioco. Credo tutt'ora che il mondo 
                        possa essere un bel posto, se siamo noi a renderlo tale: 
                        è più facile piangere che <strong>sorridere</strong>.
                    </p>
                </div>
            </div>

            <!-- Scene 5: Present -->
            <div class="film-frame" data-scene="4">
                <div class="scene-number">SCENE V</div>
                <img class="scene-background" src="https://images.unsplash.com/photo-1517180102446-f3ece451e9d8?w=1920" alt="Future path">
                <div class="scene-content">
                    <h2 class="scene-title">Il Cammino Continua</h2>
                    <p class="scene-text">
                        Davanti a me ho molta strada da fare e molto da imparare. 
                        Sono una buona osservatrice: guardo il mondo con curiosità e 
                        cerco di imparare dai migliori, pur mantenendo la mia personalità. 
                        Mi impegno a fondo in ciò che mi piace fare, con <strong>rispetto e gratitudine</strong>.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div class="navigation" id="navigation"></div>
    <div class="scroll-hint">← Scroll or drag to navigate →</div>
    <a href="../index.html" class="back-btn">Back to Home</a>

    <script>
        const filmStrip = document.getElementById('filmStrip');
        const navigation = document.getElementById('navigation');
        const scenes = document.querySelectorAll('.film-frame');
        let currentScene = 0;
        let isDragging = false;
        let startX = 0;
        let currentX = 0;
        let startTranslate = 0;

        // Create navigation dots
        scenes.forEach((scene, index) => {
            const dot = document.createElement('div');
            dot.className = 'nav-dot';
            if (index === 0) dot.classList.add('active');
            dot.addEventListener('click', () => goToScene(index));
            navigation.appendChild(dot);
        });

        // Create perforations
        function createPerforations() {
            const rows = document.querySelectorAll('.perforation-row');
            const perforationCount = Math.ceil(window.innerWidth / 50) * scenes.length;
            
            rows.forEach(row => {
                row.innerHTML = '';
                for (let i = 0; i < perforationCount; i++) {
                    const perf = document.createElement('div');
                    perf.className = 'perforation';
                    row.appendChild(perf);
                }
            });
        }

        createPerforations();
        window.addEventListener('resize', createPerforations);

        // Navigation functions
        function goToScene(index) {
            currentScene = Math.max(0, Math.min(scenes.length - 1, index));
            filmStrip.style.transform = `translateX(-${currentScene * 100}vw)`;
            updateNavigation();
        }

        function updateNavigation() {
            document.querySelectorAll('.nav-dot').forEach((dot, index) => {
                dot.classList.toggle('active', index === currentScene);
            });
        }

        // Mouse drag functionality
        function handleDragStart(clientX) {
            isDragging = true;
            startX = clientX;
            startTranslate = currentScene * window.innerWidth;
            filmStrip.classList.add('dragging');
            document.body.style.cursor = 'grabbing';
        }

        function handleDragMove(clientX) {
            if (!isDragging) return;
            
            currentX = clientX;
            const dragDistance = startX - currentX;
            const newTranslate = startTranslate + dragDistance;
            const maxTranslate = (scenes.length - 1) * window.innerWidth;
            
            // Apply bounds
            const boundedTranslate = Math.max(0, Math.min(maxTranslate, newTranslate));
            filmStrip.style.transform = `translateX(-${boundedTranslate}px)`;
        }

        function handleDragEnd() {
            if (!isDragging) return;
            
            isDragging = false;
            filmStrip.classList.remove('dragging');
            document.body.style.cursor = 'grab';
            
            // Calculate which scene to snap to
            const dragDistance = startX - currentX;
            const threshold = window.innerWidth * 0.2;
            
            if (Math.abs(dragDistance) > threshold) {
                if (dragDistance > 0 && currentScene < scenes.length - 1) {
                    goToScene(currentScene + 1);
                } else if (dragDistance < 0 && currentScene > 0) {
                    goToScene(currentScene - 1);
                } else {
                    goToScene(currentScene);
                }
            } else {
                goToScene(currentScene);
            }
        }

        // Mouse events
        filmStrip.addEventListener('mousedown', (e) => {
            e.preventDefault();
            handleDragStart(e.clientX);
        });

        document.addEventListener('mousemove', (e) => {
            handleDragMove(e.clientX);
        });

        document.addEventListener('mouseup', handleDragEnd);

        // Touch events
        filmStrip.addEventListener('touchstart', (e) => {
            handleDragStart(e.touches[0].clientX);
        }, { passive: false });

        filmStrip.addEventListener('touchmove', (e) => {
            e.preventDefault();
            handleDragMove(e.touches[0].clientX);
        }, { passive: false });

        filmStrip.addEventListener('touchend', (e) => {
            currentX = e.changedTouches[0].clientX;
            handleDragEnd();
        });

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' && currentScene < scenes.length - 1) {
                goToScene(currentScene + 1);
            } else if (e.key === 'ArrowLeft' && currentScene > 0) {
                goToScene(currentScene - 1);
            }
        });

        // Wheel navigation with debouncing
        let wheelTimeout;
        let canScroll = true;
        
        filmStrip.addEventListener('wheel', (e) => {
            e.preventDefault();
            
            if (!canScroll) return;
            canScroll = false;
            
            if (e.deltaY > 0 && currentScene < scenes.length - 1) {
                goToScene(currentScene + 1);
            } else if (e.deltaY < 0 && currentScene > 0) {
                goToScene(currentScene - 1);
            }
            
            clearTimeout(wheelTimeout);
            wheelTimeout = setTimeout(() => {
                canScroll = true;
            }, 300);
        }, { passive: false });

        // Hide scroll hint after interaction
        let interacted = false;
        ['mousedown', 'touchstart', 'wheel'].forEach(event => {
            filmStrip.addEventListener(event, () => {
                if (!interacted) {
                    interacted = true;
                    document.querySelector('.scroll-hint').style.display = 'none';
                }
            }, { once: true });
        });

        // Add dynamic film effects
        function addDynamicFilmEffects() {
            // Occasionally add random scratches
            setInterval(() => {
                if (Math.random() > 0.7) {
                    const scratchContainer = document.querySelector('.film-scratches');
                    const scratch = document.createElement('div');
                    scratch.className = 'scratch';
                    scratch.style.left = Math.random() * 100 + '%';
                    scratch.style.animationDuration = (2 + Math.random() * 2) + 's';
                    scratch.style.opacity = 0.2 + Math.random() * 0.3;
                    scratchContainer.appendChild(scratch);
                    
                    // Remove scratch after animation
                    setTimeout(() => scratch.remove(), 4000);
                }
            }, 2000);

            // Random flicker intensity
            const flicker = document.querySelector('.film-flicker');
            setInterval(() => {
                if (Math.random() > 0.95) {
                    flicker.style.animation = 'none';
                    setTimeout(() => {
                        flicker.style.animation = 'flicker 0.5s infinite';
                    }, 100);
                }
            }, 3000);
        }

        // Initialize dynamic effects
        addDynamicFilmEffects();

        // Prevent context menu on drag
        filmStrip.addEventListener('contextmenu', (e) => e.preventDefault());
    </script>
</body>
</html>